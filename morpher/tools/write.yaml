- type: function
  function:
    name: write_file
    description: |
      File writing with flexible operation modes and safety features.
      This function provides multiple file operations including create, overwrite, append, and prepend.
      Supports preview mode for safe testing and multiple output styles for different use cases.
    parameters:
      type: object
      properties:
        file_path:
          type: string
          description: Target file path to write to
        content:
          type: string
          description: Content to write to the file
        mode:
          type: string
          description: |
            Execution mode:
            - "preview": Show changes without modifying files (safe mode)
            - "apply": Apply changes directly to files (modifies files)
            - "preview_and_ask": Preview first, then ask user for confirmation
          enum:
            - preview
            - apply
            - preview_and_ask
          default: preview_and_ask
        operation:
          type: string
          description: |
            Write operation type:
            - "create": Create new file (fail if exists)
            - "overwrite": Replace entire file content
            - "append": Add content to end of file
            - "prepend": Add content to beginning of file
          enum:
            - create
            - overwrite
            - append
            - prepend
          default: overwrite
      required:
        - file_path
        - content 